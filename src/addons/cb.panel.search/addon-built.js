define("require-tools/less/normalize",[],function(){function r(e,r,i){if(e.indexOf("data:")===0)return e;e=t(e);var u=i.match(n),a=r.match(n);return a&&(!u||u[1]!=a[1]||u[2]!=a[2])?s(e,r):o(s(e,r),i)}function s(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));if(e.match(/^\//)||e.match(n))return e;var r=t.split("/"),i=e.split("/");r.pop();while(curPart=i.shift())curPart==".."?r.pop():r.push(curPart);return r.join("/")}function o(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var e=/([^:])\/+/g,t=function(t){return t.replace(e,"$1/")},n=/[^\:\/]*:\/\/([^\/])*/,u=function(e,n,i){n=t(n),i=t(i);var s=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,o,u,e;while(o=s.exec(e)){u=o[3]||o[2]||o[5]||o[6]||o[4];var a;a=r(u,n,i);var f=o[5]||o[6]?1:0;e=e.substr(0,s.lastIndex-u.length-f-1)+a+e.substr(s.lastIndex-f-1),s.lastIndex=s.lastIndex+(a.length-u.length)}return e};return u.convertURIBase=r,u.absoluteURI=s,u.relativeURI=o,u}),define("require-tools/less/less",["require"],function(e){var t={};t.pluginBuilder="./less-builder";if(typeof window=="undefined")return t.load=function(e,t,n){n()},less;t.normalize=function(e,t){return e.substr(e.length-5,5)==".less"&&(e=e.substr(0,e.length-5)),e=t(e),e};var n=document.getElementsByTagName("head")[0],r=window.location.href.split("/");r[r.length-1]="",r=r.join("/");var i;window.less=window.less||{env:"development"};var s=0,o;t.inject=function(e){s<31&&(o=document.createElement("style"),o.type="text/css",n.appendChild(o),s++),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(document.createTextNode(e))};var u;return t.load=function(n,s,o,a){e(["./lessc","./normalize"],function(a,f){if(!i){var l=e.toUrl("base_url").split("/");l[l.length-1]="",i=f.absoluteURI(l.join("/"),r)+"/"}var c=s.toUrl(n+".less");c=f.absoluteURI(c,i),u=u||new a.Parser(window.less),u.parse('@import "'+c+'";',function(e,n){if(e)return o.error(e);t.inject(f(n.toCSS(),c,r)),setTimeout(o,7)})})},t}),define("require-tools/less/less!stylesheets/panel",[],function(){}),define("views/panel",["less!stylesheets/panel.less"],function(){var e=codebox.require("underscore"),t=codebox.require("jQuery"),n=codebox.require("hr/hr"),r=codebox.require("core/search"),i=codebox.require("views/panels/base"),s=i.extend({className:"cb-panel-search",template:"panel.html",templateLoader:"addon.cb.panel.search.templates",events:{"click input":"focus","blur input":"inputBlur","focus input":"inputFocus","keydown input":"keydown","keyup input":"keyup","click .result":"openResult"},initialize:function(e){return s.__super__.initialize.apply(this,arguments),this.openCallback={},this.nResults=0,this.selected=0,this.query="",this.on("panel:open",function(){this.focus()},this),this.on("panel:close",function(){this.blur()},this),this},keydown:function(e){var n=e.which||e.keyCode,r=t(e.currentTarget).val();(n==38||n==40||n==13)&&e.preventDefault(),r.length==0&&n==8&&(e.preventDefault(),this.blur(),this.clearResults(),this.close())},keyup:function(e){var n=e.which||e.keyCode,r=t(e.currentTarget).val();if(n==27){e.preventDefault(),this.blur(),this.clearResults(),this.close();return}n==38?this.selected=this.selected-1:n==40?this.selected=this.selected+1:n==13&&(e.preventDefault(),this.openResult(this.selected)),this.doSearch(r),this.selectResult(this.selected)},focus:function(e){e!=null&&e.preventDefault(),this.$("input").focus(),this.$("input").select()},blur:function(e){e!=null&&e.preventDefault(),this.$("input").blur()},doSearch:function(n){n=n.toLowerCase();var i=this.$(".results");return n==this.query?this:(this.query=n,this.nResults=0,this.clearResults(),this.query.length==0?this:(r.query(this.query,function(n,r,s){if(this.query!=s)return;var o=0,u=t("<ul>",{"class":"category"}).hide().appendTo(i);t("<li>",{text:n.title,"class":"header"}).appendTo(u),e.each(r,function(e){var n,r;r=this.nResults,this.nResults=this.nResults+1,o+=1,n=t("<li>",{"class":"result","data-result":r,text:e.text}).appendTo(u),e.image!=null&&t("<img>",{src:e.image}).prependTo(n),u.show(),e.callback!=null&&(this.openCallback[r]=e.callback),this.selectResult(this.selected)},this)},this),this))},selectResult:function(e){return this.selected=e,this.selected<-1&&(this.selected=0),this.selected>=this.nResults&&(this.selected=this.nResults-1),this.$(".result").removeClass("selected"),this.$(".result[data-result='"+this.selected+"']").addClass("selected"),this},clearResults:function(){return this.$(".results").empty(),this.openCallback={},this},openResult:function(n){return e.isNumber(n)||(n=t(n.currentTarget).data("result")),n==-1?this:(this.openCallback[n]!=null&&this.openCallback[n](),this)},inputBlur:function(){this.$el.toggleClass("mode-results",!1)},focusBlur:function(){this.$el.toggleClass("mode-results",this.query.length>0)}});return s}),define("client",["views/panel"],function(e){var t=codebox.require("core/commands"),n=codebox.require("core/app"),r=codebox.require("core/panels"),i=r.register("search",e),s=t.register("search.open",{title:"Search",icon:"search",position:0});i.connectCommand(s)}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}(".cb-panel-search{position:absolute;top:0;bottom:0;left:0;width:100%;z-index:10;padding:4px 6px}.cb-panel-search input.search-query{border-radius:1px;background:#fff;color:#222;border:none;width:100%;margin:2px 0;padding:5px 7px;font-size:12px;line-height:20px}.cb-panel-search input.search-query:hover,.cb-panel-search input.search-query:focus{outline:0}.cb-panel-search .results{position:absolute;right:0;left:0;width:auto;margin:0;top:40px;bottom:0;padding:0;overflow-y:auto}.cb-panel-search .results .category{list-style:none;padding:0;display:none;margin:8px 0 0}.cb-panel-search .results .category li{padding:4px 8px;line-height:24px;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cb-panel-search .results .category li.header{margin:0;background:rgba(0,0,0,.25);text-transform:uppercase}.cb-panel-search .results .category li.result.selected{background:#5E9EF3}.cb-panel-search .results .category li img{width:24px;height:24px;border-radius:24px;float:left;margin-right:6px}")